# ğŸš€ Apache Kafka ì •ë¦¬
 
> ### [í† ìŠ¤ í…Œí¬ë‹ˆì»¬ ë¼ì´íŒ…](https://technical-writing.dev/) ë‚´ìš©ì„ promtë¡œ ì„¤ì •í•˜ì—¬ ê¸€ì˜ í˜•ì‹ìƒì„±


---

# ğŸ“š Part 1: Kafka ì´í•´í•˜ê¸°

## 1. Kafkaë€ ë¬´ì—‡ì¸ê°€?

### ğŸ¯ í•µì‹¬ ê°œë…

- Kafkaë¥¼ í•œ ë¬¸ì¥ìœ¼ë¡œ ì„¤ëª…í•˜ë©´ "ì—„ì²­ë‚˜ê²Œ ë¹ ë¥¸ ë©”ì‹œì§€ ì „ë‹¬ ì‹œìŠ¤í…œ"ì…ë‹ˆë‹¤.


- ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì§•ì„ ê°€ì§‘ë‹ˆë‹¤.
    1. KafkaëŠ” ë‹¤ë¥¸ ë©”ì„¸ì§€ íì™€ ë‹¤ë¥´ê²Œ ë©”ì„¸ì§€ë¥¼ ì‚­ì œí•˜ì§€ ì•Šê³ , ë””ìŠ¤í¬ì— ì¼ì •í•œ ê¸°ê°„ ë™ì•ˆ ë³´ê´€í•œë‹¤.
    2. ë†’ì€ ì²˜ë¦¬ëŸ‰ì„ ê°€ì§„ë‹¤ : íŒŒí‹°ì…˜ ê¸°ë°˜ ë³‘ë ¬ ì²˜ë¦¬ êµ¬ì¡°ë¡œ ëŒ€ìš©ëŸ‰ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.
  3. ë‚´êµ¬ì„± ë³´ì¥ : ë©”ì„¸ì§€ë¥¼ ë””ìŠ¤í¬ì— ì €ì¥í•˜ê³  ë³µì œí•˜ì—¬ ë°ì´í„° ì†ì‹¤ ë°©ì§€
  4. ìˆœì„œ ë³´ì¥ : < ê°™ì€ íŒŒí‹°ì…˜ > ë‚´ì—ì„œëŠ” ë©”ì„¸ì§€ ìˆœì„œë¥¼ ë³´ì¥í•œë‹¤.
  



### ğŸ’¡ ì™œ Kafkaê°€ í•„ìš”í•œê°€?

- redisë¥¼ ì‚¬ìš©í•˜ë©´ db ë¶€í™”ë¥¼ ì¤„ì¼ ìˆ˜ ìˆì§€ë§Œ ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ì ì´ ìˆë‹¤.
  1. ì¦‰ì‹œì²˜ë¦¬ê°€ ì•ˆë¨
  2. ìœ ì‹¤ ê°€ëŠ¥ì„±ì´ ìˆë‹¤.
  3. ì¬ì²˜ë¦¬, ìˆ˜í‰ í™•ì¥ì˜ ì–´ë ¤ì›€ì„ ê°€ì§„ë‹¤.

- ì¹´í”„ì¹´ë¡œ êµ¬í˜„ì„ í•˜ë©´ 
  1. ì•ˆì •ì ì¸ ë©”ì„¸ì§€ ë³´ì¥
  2. ë°ì´í„° ì˜ì†ì„±ê³¼ ë‚´êµ¬ì„±
  3. ìˆ˜í‰ í™•ì¥ê³¼ ì¥ì• ë³µêµ¬ -> íŒŒí‹°ì…˜ + group + ë¦¬ë²¨ëŸ°ì‹± + ë””ìŠ¤í¬ ìŠ¤ì¼€ì¼ì—…


**ê¸°ì¡´ ë°©ì‹ì˜ ë¬¸ì œì :**
```
ì£¼ë¬¸ ì„œë¹„ìŠ¤ â”€â”€â”€â”€â†’ ê²°ì œ ì„œë¹„ìŠ¤
    â†“
ì¬ê³  ì„œë¹„ìŠ¤ â”€â”€â”€â”€â†’ ë°°ì†¡ ì„œë¹„ìŠ¤
    â†“
ì•Œë¦¼ ì„œë¹„ìŠ¤ â”€â”€â”€â”€â†’ ë¶„ì„ ì„œë¹„ìŠ¤
```

ì´ë ‡ê²Œ í•˜ë©´:
- ì£¼ë¬¸ ì„œë¹„ìŠ¤ê°€ 6ê°œ ì„œë¹„ìŠ¤ì™€ ì§ì ‘ í†µì‹ í•´ì•¼ í•¨
- í•˜ë‚˜ì˜ ì„œë¹„ìŠ¤ê°€ ì£½ìœ¼ë©´ ì „ì²´ ì£¼ë¬¸ ì²˜ë¦¬ê°€ ë©ˆì¶¤
- ìƒˆë¡œìš´ ì„œë¹„ìŠ¤ ì¶”ê°€í•  ë•Œë§ˆë‹¤ ê¸°ì¡´ ì½”ë“œ ìˆ˜ì • í•„ìš”

**Kafka ë„ì… í›„:**
```
ì£¼ë¬¸ ì„œë¹„ìŠ¤ â”€â”€â”€â”€â†’ Kafka â”€â”€â”€â”€â†’ ê²°ì œ ì„œë¹„ìŠ¤
                    â”œâ”€â”€â”€â”€â†’ ì¬ê³  ì„œë¹„ìŠ¤
                    â”œâ”€â”€â”€â”€â†’ ë°°ì†¡ ì„œë¹„ìŠ¤
                    â”œâ”€â”€â”€â”€â†’ ì•Œë¦¼ ì„œë¹„ìŠ¤
                    â””â”€â”€â”€â”€â†’ ë¶„ì„ ì„œë¹„ìŠ¤
```

ì´ì œ ì£¼ë¬¸ ì„œë¹„ìŠ¤ëŠ” Kafkaì—ë§Œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ë©´ ë©ë‹ˆë‹¤. ë‹¤ë¥¸ ì„œë¹„ìŠ¤ë“¤ì´ ì£½ì–´ë„ ì£¼ë¬¸ ì²˜ë¦¬ëŠ” ê³„ì†ë˜ê³ , ë‚˜ì¤‘ì— ì„œë¹„ìŠ¤ê°€ ì‚´ì•„ë‚˜ë©´ ë°€ë¦° ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 2. Kafka í•µì‹¬ ì•„í‚¤í…ì²˜

### ğŸ”§ ì£¼ìš” êµ¬ì„± ìš”ì†Œ

#### Broker (ë¸Œë¡œì»¤)
Kafka ì„œë²„ì…ë‹ˆë‹¤. ë³´í†µ 3ëŒ€ ì´ìƒìœ¼ë¡œ í´ëŸ¬ìŠ¤í„°ë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.

- ì™œ 3ëŒ€?
  - í•œ ëŒ€ê°€ ì£½ì–´ë„ ì„œë¹„ìŠ¤ê°€ ê³„ì†ë˜ë ¤ë©´ ìµœì†Œ 3ëŒ€ëŠ” ìˆì–´ì•¼ í•©ë‹ˆë‹¤. ì‹¤ì œ ìš´ì˜ì—ì„œëŠ” í™€ìˆ˜ ê°œë¡œ êµ¬ì„±í•˜ëŠ” ê²Œ ì¢‹ìŠµë‹ˆë‹¤. (split-brain ë¬¸ì œ ë°©ì§€)

#### Topic (í† í”½)
ë©”ì‹œì§€ì˜ ì£¼ì œì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ë©´:
- `user-events`: ì‚¬ìš©ì í–‰ë™ ë°ì´í„°
- `order-created`: ì£¼ë¬¸ ìƒì„± ì´ë²¤íŠ¸
- `payment-completed`: ê²°ì œ ì™„ë£Œ ì´ë²¤íŠ¸


#### Partition (íŒŒí‹°ì…˜)

- í† í”½ì„ ì—¬ëŸ¬ ê°œë¡œ ë‚˜ëˆˆ ê²ƒì…ë‹ˆë‹¤.

- **ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ë¶€ë¶„ì€ íŒŒí‹°ì…˜ì˜ ìˆ˜ëŠ” ì¦ê°€ëŠ” ê°€ëŠ¥í•˜ì§€ë§Œ ê°ì†Œí•  ìˆ˜ ì—†ë‹¤.**

íŒŒí‹°ì…˜ì´ 3ê°œë¼ë©´:
```
Topic: user-events
â”œâ”€â”€ Partition 0: [msg1, msg4, msg7, ...]
â”œâ”€â”€ Partition 1: [msg2, msg5, msg8, ...]
â””â”€â”€ Partition 2: [msg3, msg6, msg9, ...]
```


#### Producer (í”„ë¡œë“€ì„œ)

- ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.


#### Consumer (ì»¨ìŠˆë¨¸)
- ë©”ì‹œì§€ë¥¼ ë°›ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

í•œ ê°€ì§€ ì¤‘ìš”í•œ ì ì€, ì—¬ëŸ¬ ì»¨ìŠˆë¨¸ê°€ ê°™ì€ í† í”½ì„ êµ¬ë…í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ `order-created` í† í”½ì„
- ê²°ì œ ì„œë¹„ìŠ¤ë„ êµ¬ë…í•˜ê³ 
- ì¬ê³  ì„œë¹„ìŠ¤ë„ êµ¬ë…í•˜ê³ 
- ë¶„ì„ ì„œë¹„ìŠ¤ë„ êµ¬ë…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

### ğŸ“Š ë°ì´í„° íë¦„ ë‹¤ì´ì–´ê·¸ë¨

ì‹¤ì œ ë©”ì‹œì§€ê°€ ì–´ë–»ê²Œ íë¥´ëŠ”ì§€ ë³´ë©´:

```
[ì£¼ë¬¸ ì„œë¹„ìŠ¤] 
    â†“ ë©”ì‹œì§€ ì „ì†¡
[Kafka Cluster]
â”œâ”€â”€ Broker 1 (Leader for Partition 0)
â”œâ”€â”€ Broker 2 (Leader for Partition 1)  
â””â”€â”€ Broker 3 (Leader for Partition 2)
    â†“ ë©”ì‹œì§€ êµ¬ë…
[ì»¨ìŠˆë¨¸ ê·¸ë£¹: ê²°ì œíŒ€]
â”œâ”€â”€ Consumer 1 (Partition 0 ë‹´ë‹¹)
â”œâ”€â”€ Consumer 2 (Partition 1 ë‹´ë‹¹)
â””â”€â”€ Consumer 3 (Partition 2 ë‹´ë‹¹)
```

ì¤‘ìš”í•œ ì ì€ **í•˜ë‚˜ì˜ íŒŒí‹°ì…˜ì€ í•˜ë‚˜ì˜ ì»¨ìŠˆë¨¸ë§Œ** ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. >>>  ê·¸ë˜ì„œ ì»¨ìŠˆë¨¸ë¥¼ íŒŒí‹°ì…˜ ìˆ˜ë³´ë‹¤ ë§ì´ ë„ì›Œë„ ì¼ë¶€ëŠ” ë†€ê²Œ ëœë‹¤.

---

# ğŸ› ï¸ Part 2: Kafka í™˜ê²½ êµ¬ì¶•í•˜ê¸°

## 3. ì„¤ì¹˜ ë° ì„¤ì •

### ğŸ³ Docker
#### docker-compose.yml íŒŒì¼ ìƒì„±

```yaml
version: '3'

networks:
  kafka_network:
    driver: bridge

services:
  zookeeper:
    image: 'bitnami/zookeeper:3.7.2'
    container_name: zookeeper
    networks:
      - kafka_network
    ports:
      - 2181:2181
    environment:
      - ALLOW_ANONYMOUS_LOGIN=yes
    volumes:
      - ./.data/zookeeper/data:/bitnami/zookeeper/data
      - ./.data/zookeeper/datalog:/bitnami/zookeeper/datalog
      - ./.data/zookeeper/logs:/bitnami/zookeeper/logs

  kafka1:
    image: 'bitnami/kafka:3.6.0'
    container_name: kafka1
    hostname: kafka1
    networks:
      - kafka_network
    ports:
      - 19092
      - "9092:9092"
    environment:
      - KAFKA_BROKER_ID=1
      - KAFKA_CFG_ZOOKEEPER_CONNECT=zookeeper:2181
      - ALLOW_PLAINTEXT_LISTENER=yes
      - KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CLIENT:PLAINTEXT,EXTERNAL:PLAINTEXT
      - KAFKA_CFG_LISTENERS=CLIENT://:19092,EXTERNAL://:9092
      - KAFKA_CFG_ADVERTISED_LISTENERS=CLIENT://kafka1:19092,EXTERNAL://localhost:9092
      - KAFKA_INTER_BROKER_LISTENER_NAME=CLIENT
    depends_on:
      - zookeeper
    volumes:
      - ./.data/kafka1:/bitnami/kafka/data
    restart: unless-stopped

  kafka2:
    image: 'bitnami/kafka:3.6.0'
    container_name: kafka2
    hostname: kafka2
    networks:
      - kafka_network
    ports:
      - 19092
      - "9093:9093"
    environment:
      - KAFKA_BROKER_ID=2
      - KAFKA_CFG_ZOOKEEPER_CONNECT=zookeeper:2181
      - ALLOW_PLAINTEXT_LISTENER=yes
      - KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CLIENT:PLAINTEXT,EXTERNAL:PLAINTEXT
      - KAFKA_CFG_LISTENERS=CLIENT://:19092,EXTERNAL://:9093
      - KAFKA_CFG_ADVERTISED_LISTENERS=CLIENT://kafka2:19092,EXTERNAL://localhost:9093
      - KAFKA_INTER_BROKER_LISTENER_NAME=CLIENT
    depends_on:
      - zookeeper
    volumes:
      - ./.data/kafka2:/bitnami/kafka/data
    restart: unless-stopped

  kafka3:
    image: 'bitnami/kafka:3.6.0'
    container_name: kafka3
    hostname: kafka3
    networks:
      - kafka_network
    ports:
      - 19092
      - "9094:9094"
    environment:
      - KAFKA_BROKER_ID=3
      - KAFKA_CFG_ZOOKEEPER_CONNECT=zookeeper:2181
      - ALLOW_PLAINTEXT_LISTENER=yes
      - KAFKA_CFG_LISTENER_SECURITY_PROTOCOL_MAP=CLIENT:PLAINTEXT,EXTERNAL:PLAINTEXT
      - KAFKA_CFG_LISTENERS=CLIENT://:19092,EXTERNAL://:9094
      - KAFKA_CFG_ADVERTISED_LISTENERS=CLIENT://kafka3:19092,EXTERNAL://localhost:9094
      - KAFKA_INTER_BROKER_LISTENER_NAME=CLIENT
    depends_on:
      - zookeeper
    volumes:
      - ./.data/kafka3:/bitnami/kafka/data
    restart: unless-stopped

  kafka-ui:
    image: 'provectuslabs/kafka-ui:v0.7.1'
    container_name: kafka-ui
    networks:
      - kafka_network
    ports:
      - "8081:8080"
    environment:
      - KAFKA_CLUSTERS_0_NAME=local
      - KAFKA_CLUSTERS_0_BOOTSTRAPSERVERS=kafka1:19092,kafka2:19092,kafka3:19092
    depends_on:
      - kafka1
      - kafka2
      - kafka3
    restart: unless-stopped

  redpanda-console:
    image: 'docker.redpanda.com/redpandadata/console:v2.3.7'
    container_name: redpanda-console
    networks:
      - kafka_network
    ports:
      - "8989:8080"
    environment:
      - KAFKA_BROKERS=kafka1:19092,kafka2:19092,kafka3:19092
    depends_on:
      - kafka1
      - kafka2
      - kafka3
    restart: unless-stopped
```

#### ì‹¤í–‰ ëª…ë ¹ì–´

```bash
# í´ëŸ¬ìŠ¤í„° ì‹œì‘
docker-compose -f docker-compose-kafka.yml up -d

docker ps --format "table {{.ID}}\t{{.Names}}\t{{.Status}}"
```

## 4. ê¸°ë³¸ ë™ì‘ í™•ì¸

### ğŸ“ í† í”½ ìƒì„±í•˜ê¸°

```bash
# í† í”½ ìƒì„±
docker exec -it kafka kafka-topics --create \
    --topic test-topic \
    --bootstrap-server localhost:9092 \
    --partitions 3 \
    --replication-factor 1

# í† í”½ ëª©ë¡ í™•ì¸
docker exec -it kafka kafka-topics --list \
    --bootstrap-server localhost:9092

# í† í”½ ìƒì„¸ ì •ë³´ í™•ì¸  
docker exec -it kafka kafka-topics --describe \
    --topic test-topic \
    --bootstrap-server localhost:9092
```

ê²°ê³¼ê°€ ì´ë ‡ê²Œ ë‚˜ì˜¤ë©´ ì„±ê³µ:
```
Topic: test-topic	TopicId: xxxxx	PartitionCount: 3	ReplicationFactor: 1
	Topic: test-topic	Partition: 0	Leader: 1	Replicas: 1	Isr: 1
	Topic: test-topic	Partition: 1	Leader: 1	Replicas: 1	Isr: 1
	Topic: test-topic	Partition: 2	Leader: 1	Replicas: 1	Isr: 1
```

ê°„ë‹¨í•œ ë©”ì‹œì§€ í…ŒìŠ¤íŠ¸:
```bash
# ë©”ì‹œì§€ ë³´ë‚´ê¸° (Producer)
docker exec -it kafka kafka-console-producer \
    --topic test-topic \
    --bootstrap-server localhost:9092

# ë©”ì‹œì§€ ë°›ê¸° (Consumer, ë‹¤ë¥¸ í„°ë¯¸ë„ì—ì„œ)
docker exec -it kafka kafka-console-consumer \
    --topic test-topic \
    --from-beginning \
    --bootstrap-server localhost:9092
```

Producer í„°ë¯¸ë„ì—ì„œ ì•„ë¬´ í…ìŠ¤íŠ¸ë‚˜ ì…ë ¥í•˜ë©´, Consumer í„°ë¯¸ë„ì—ì„œ ë°”ë¡œ ë³´ì´ë©´ ì„¤ì¹˜ ì„±ê³µì…ë‹ˆë‹¤.

---

# ğŸ” Part 3: í•µì‹¬ ê°œë… ì‹¬í™” í•™ìŠµ

## 5. íŒŒí‹°ì…˜ê³¼ ì˜¤í”„ì…‹ ì´í•´í•˜ê¸°

### ğŸ“Š íŒŒí‹°ì…˜ ê°œë…

íŒŒí‹°ì…˜ì„ ì‰½ê²Œ ìƒê°í•˜ë©´ "ì—¬ëŸ¬ ê°œì˜ ì¤„ ì„œê¸°"ì…ë‹ˆë‹¤.

```
Topic: user-activity (íŒŒí‹°ì…˜ 3ê°œ)

Partition 0: [login, logout, click, ...]
Partition 1: [signup, purchase, ...]  
Partition 2: [view, scroll, click, ...]
```

**ì¤‘ìš”í•œ íŠ¹ì§•:**
- íŒŒí‹°ì…˜ **ë‚´ì—ì„œë§Œ** ìˆœì„œê°€ ë³´ì¥ë¨
- íŒŒí‹°ì…˜ì´ 3ê°œë©´ ìµœëŒ€ 3ê°œì˜ Consumerê°€ ë³‘ë ¬ ì²˜ë¦¬ ê°€ëŠ¥
- íŒŒí‹°ì…˜ ìˆ˜ëŠ” ëŠ˜ë¦´ ìˆ˜ëŠ” ìˆì§€ë§Œ ì¤„ì¼ ìˆ˜ëŠ” ì—†ìŒ


### ğŸ“ ì˜¤í”„ì…‹ ê´€ë¦¬

ì˜¤í”„ì…‹ì€ íŒŒí‹°ì…˜ ë‚´ì—ì„œ ë©”ì‹œì§€ì˜ ìœ„ì¹˜ì…ë‹ˆë‹¤. 0ë²ˆë¶€í„° ì‹œì‘í•´ì„œ ë©”ì‹œì§€ê°€ ì¶”ê°€ë  ë•Œë§ˆë‹¤ 1ì”© ì¦ê°€í•©ë‹ˆë‹¤.

```
Partition 0: [msg0] [msg1] [msg2] [msg3] [msg4] ...
              â†‘      â†‘      â†‘      â†‘      â†‘
           offset:   0      1      2      3      4
```

**Consumer ì˜¤í”„ì…‹ ê´€ë¦¬ ì „ëµ:**

1. **ìë™ ì»¤ë°‹** (ê¸°ë³¸ê°’)
```java
configs.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, true);
configs.put(ConsumerConfig.AUTO_COMMIT_INTERVAL_MS_CONFIG, 5000); // 5ì´ˆë§ˆë‹¤
```
- í¸í•˜ì§€ë§Œ ë©”ì‹œì§€ ì†ì‹¤ ìœ„í—˜ ìˆìŒ
- ì²˜ë¦¬ ë„ì¤‘ Consumer ì£½ìœ¼ë©´ í•´ë‹¹ ë©”ì‹œì§€ëŠ” ë‹¤ì‹œ ì²˜ë¦¬ ì•ˆ ë¨

2. **ìˆ˜ë™ ì»¤ë°‹** (ê¶Œì¥)
```java
configs.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);

// ë©”ì‹œì§€ ì²˜ë¦¬ í›„
consumer.commitSync(); // ë™ê¸° ì»¤ë°‹
// ë˜ëŠ”
consumer.commitAsync(); // ë¹„ë™ê¸° ì»¤ë°‹
```

**ê³ ë ¤í•´ì•¼ ë˜ëŠ” ë¶€ë¶„**
- Consumerê°€ ì¬ì‹œì‘ë˜ë©´ ë§ˆì§€ë§‰ ì»¤ë°‹ëœ ì˜¤í”„ì…‹ë¶€í„° ì‹œì‘
- ë©”ì‹œì§€ ì²˜ë¦¬ëŠ” ëëŠ”ë° ì»¤ë°‹ ì•ˆ ë˜ë©´ ì¤‘ë³µ ì²˜ë¦¬ ë°œìƒ
- ì»¤ë°‹ì€ ëëŠ”ë° ì²˜ë¦¬ ì•ˆ ë˜ë©´ ë©”ì‹œì§€ ì†ì‹¤

## 6. Consumer Group í™œìš©í•˜ê¸°

### ğŸ‘¥ Consumer Group ë™ì‘ ì›ë¦¬

```
Topic: order-events (íŒŒí‹°ì…˜ 3ê°œ)

Consumer Group: payment-service
â”œâ”€â”€ Consumer 1 â†’ Partition 0 ë‹´ë‹¹
â”œâ”€â”€ Consumer 2 â†’ Partition 1 ë‹´ë‹¹  
â””â”€â”€ Consumer 3 â†’ Partition 2 ë‹´ë‹¹

Consumer Group: analytics-service  
â”œâ”€â”€ Consumer A â†’ Partition 0,1,2 ëª¨ë‘ ë‹´ë‹¹
```

ê°™ì€ Consumer Group ì•ˆì—ì„œëŠ” í•˜ë‚˜ì˜ íŒŒí‹°ì…˜ì„ í•˜ë‚˜ì˜ Consumerë§Œ ì²˜ë¦¬í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ë‹¤ë¥¸ Consumer Groupì€ ê°™ì€ ë©”ì‹œì§€ë¥¼ ê°ì ë…ë¦½ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ:**
```java
// ê²°ì œ ì„œë¹„ìŠ¤
Properties configs = new Properties();
configs.put(ConsumerConfig.GROUP_ID_CONFIG, "payment-service");

// ë¶„ì„ ì„œë¹„ìŠ¤ (ê°™ì€ í† í”½, ë‹¤ë¥¸ ê·¸ë£¹)
Properties configs2 = new Properties();  
configs2.put(ConsumerConfig.GROUP_ID_CONFIG, "analytics-service");
```

### âš–ï¸ ë¦¬ë°¸ëŸ°ì‹± (Rebalancing)

**ì–¸ì œ ë°œìƒí•˜ë‚˜:**
- Consumer ì¶”ê°€/ì œê±°
- Consumer ì¥ì• ë¡œ heartbeat ëŠê¹€
- í† í”½ íŒŒí‹°ì…˜ ìˆ˜ ë³€ê²½

**ë¦¬ë°¸ëŸ°ì‹± ê³¼ì •:**
1. ëª¨ë“  Consumerê°€ ì¼ì‹œì ìœ¼ë¡œ ë©”ì‹œì§€ ì²˜ë¦¬ ì¤‘ë‹¨
2. íŒŒí‹°ì…˜ ì¬í• ë‹¹
3. Consumerë“¤ì´ ìƒˆë¡œìš´ íŒŒí‹°ì…˜ ë‹´ë‹¹

```
ë¦¬ë°¸ëŸ°ì‹± ì „:
Consumer 1 â†’ Partition 0, 1
Consumer 2 â†’ Partition 2

ë¦¬ë°¸ëŸ°ì‹± í›„ (Consumer 3 ì¶”ê°€):
Consumer 1 â†’ Partition 0
Consumer 2 â†’ Partition 1  
Consumer 3 â†’ Partition 2
```